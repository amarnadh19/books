# Activity logs

*Activity logs* record when resources are created or modified. *Metrics* tell you how the resource is performing and the resources that it's consuming.

Through activity logs, you can determine:

- What operations were taken on the resources in your subscription.

- Who started the operation.

- When the operation occurred.

- The status of the operation.

- The values of other properties that might help you research the operation.

![](https://github.com/amarnadh19/books/blob/main/images/Az_activitylog_1.png?)

Activity logs are kept for 90 days. You can query for any range of dates, as long as the starting date isn't more than 90 days in the past. You can retrieve events from your Activity Log using the Azure portal, CLI, PowerShell cmdlets, and Azure Monitor REST API.

## Query Activity Log

![](https://github.com/amarnadh19/books/blob/main/images/Az_activitylog_2.png?)

In the Azure portal, you can filter your Activity Log by these fields:

- **Subscription**. One or more Azure subscription names.

- **Timespan**. The start and end time for events.

- **Event Severity**. The severity level of the event (Informational, Warning, Error, Critical).

- **Resource group**. One or more resource groups within those subscriptions.

- **Resource (name)**. The name of a specific resource.

- **Resource type**. The type of resource, for example, Microsoft.Compute/virtualmachines.

- **Operation name**. The name of an Azure Resource Manager operation, for example, Microsoft.SQL/servers/Write.

- **Event initiated by**. The ‘caller,’ or user who performed the operation.

Event Category. The event category is described in the next topic.

Search. This is an open text search box that searches for that string across all fields in all events.

## Event Categories

![](https://github.com/amarnadh19/books/blob/main/images/Az_activitylog_3.png?)

The Activity Log provides several event categories. You may select one or more.

- **Administrative**. This category contains the record of all create, update, delete, and action operations performed through Resource Manager. Examples of the types of events you would see in this category include “create virtual machine” and “delete network security group”. The Administrative category also includes any changes to role-based access control in a subscription.

- **Service Health**. This category contains the record of any service health incidents that have occurred in Azure. An example of the type of event you would see in this category is “SQL Azure in East US is experiencing downtime.” Service health events come in five varieties: Action Required, Assisted Recovery, Incident, Maintenance, Information, or Security.

- **Alert**. This category contains the record of all activations of Azure alerts. An example of the type of event you would see in this category is “CPU % on myVM has been over 80 for the past 5 minutes.”

- **Autoscale**. This category contains the record of any events related to the operation of the autoscale engine based on any autoscale settings you have defined in your subscription. An example of the type of event you would see in this category is “Autoscale scale up action failed.”

- **Recommendation**. This category contains recommendation events from certain resource types, such as web sites and SQL servers. These events offer recommendations for how to better utilize your resources.

- **Security**. This category contains the record of any alerts generated by Azure Security Center. An example of the type of event you would see in this category is “Suspicious double extension file executed.”

- **Policy and Resource Health**. These categories do not contain any events; they are reserved for future use.
